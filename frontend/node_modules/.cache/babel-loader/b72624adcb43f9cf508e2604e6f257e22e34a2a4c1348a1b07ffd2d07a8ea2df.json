{"ast":null,"code":"import _regeneratorRuntime from \"/Users/guojingjing/2024-ai-code/crm/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/guojingjing/2024-ai-code/crm/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/guojingjing/2024-ai-code/crm/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createClass from \"/Users/guojingjing/2024-ai-code/crm/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/guojingjing/2024-ai-code/crm/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _callSuper from \"/Users/guojingjing/2024-ai-code/crm/frontend/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/guojingjing/2024-ai-code/crm/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/web.timers.js\";\nimport * as monaco from 'monaco-editor';\nimport { onMounted, onBeforeUnmount, watch, ref, nextTick } from 'vue';\n\n// 添加debounce函数\n\nexport default {\n  __name: 'MonacoEditor',\n  props: {\n    modelValue: {\n      type: String,\n      \"default\": ''\n    },\n    language: {\n      type: String,\n      \"default\": 'javascript'\n    }\n  },\n  emits: ['update:modelValue'],\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose,\n      __emit = _ref.emit;\n    __expose();\n    var debounce = function debounce(fn, delay) {\n      var timer;\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (timer) {\n          clearTimeout(timer);\n        }\n        timer = setTimeout(function () {\n          fn.apply(void 0, args);\n        }, delay);\n      };\n    };\n\n    // 重写ResizeObserver\n    var _ResizeObserver = window.ResizeObserver;\n    window.ResizeObserver = /*#__PURE__*/function (_ResizeObserver2) {\n      function ResizeObserver(callback) {\n        _classCallCheck(this, ResizeObserver);\n        callback = debounce(callback, 200);\n        return _callSuper(this, ResizeObserver, [callback]);\n      }\n      _inherits(ResizeObserver, _ResizeObserver2);\n      return _createClass(ResizeObserver);\n    }(_ResizeObserver);\n    var props = __props;\n    var emit = __emit;\n    var editorContainer = ref(null);\n    var editor = null;\n\n    // 配置编辑器主题\n    monaco.editor.defineTheme('custom-theme', {\n      base: 'vs-dark',\n      inherit: true,\n      rules: [{\n        token: 'comment',\n        foreground: '6A9955',\n        fontStyle: 'italic'\n      }, {\n        token: 'keyword',\n        foreground: '569cd6'\n      }, {\n        token: 'string',\n        foreground: 'ce9178'\n      }, {\n        token: 'number',\n        foreground: 'b5cea8'\n      }],\n      colors: {\n        'editor.background': '#1e1e1e',\n        'editor.foreground': '#d4d4d4',\n        'editorCursor.foreground': '#ffffff',\n        'editor.lineHighlightBackground': '#2c313a',\n        'editorLineNumber.foreground': '#858585',\n        'editor.selectionBackground': '#264f78',\n        'editor.inactiveSelectionBackground': '#3a3d41'\n      }\n    });\n    var defaultOptions = {\n      theme: 'custom-theme',\n      fontSize: 14,\n      fontFamily: 'Menlo, Monaco, \"Courier New\", monospace',\n      lineNumbers: 'on',\n      minimap: {\n        enabled: false\n      },\n      scrollBeyondLastLine: false,\n      automaticLayout: true,\n      tabSize: 2,\n      wordWrap: 'on',\n      wrappingIndent: 'indent',\n      autoIndent: 'full',\n      formatOnPaste: true,\n      formatOnType: true,\n      suggestOnTriggerCharacters: true,\n      acceptSuggestionOnEnter: 'on',\n      folding: true,\n      renderWhitespace: 'selection',\n      contextmenu: true,\n      scrollbar: {\n        vertical: 'visible',\n        horizontal: 'visible',\n        useShadows: true,\n        verticalHasArrows: true,\n        horizontalHasArrows: true\n      }\n    };\n\n    // SQL 代码片段\n    var sqlSnippets = [{\n      label: 'SELECT',\n      insertText: 'SELECT ${1:*} FROM ${2:table_name} WHERE ${3:condition}',\n      documentation: '查询数据',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }, {\n      label: 'INSERT',\n      insertText: 'INSERT INTO ${1:table_name} (${2:columns}) VALUES (${3:values})',\n      documentation: '插入数据',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }, {\n      label: 'UPDATE',\n      insertText: 'UPDATE ${1:table_name} SET ${2:column} = ${3:value} WHERE ${4:condition}',\n      documentation: '更新数据',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }, {\n      label: 'DELETE',\n      insertText: 'DELETE FROM ${1:table_name} WHERE ${2:condition}',\n      documentation: '删除数据',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }];\n\n    // Python 代码片段\n    var pythonSnippets = [{\n      label: 'def',\n      insertText: 'def ${1:function_name}(${2:parameters}):\\n\\t${3:pass}',\n      documentation: '定义函数',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }, {\n      label: 'class',\n      insertText: 'class ${1:ClassName}:\\n\\tdef __init__(self):\\n\\t\\t${2:pass}',\n      documentation: '定义类',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }, {\n      label: 'if',\n      insertText: 'if ${1:condition}:\\n\\t${2:pass}',\n      documentation: 'if 条件语句',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }, {\n      label: 'for',\n      insertText: 'for ${1:item} in ${2:items}:\\n\\t${3:pass}',\n      documentation: 'for 循环',\n      kind: monaco.languages.CompletionItemKind.Snippet\n    }];\n    var registerCompletionProvider = function registerCompletionProvider() {\n      if (props.language === 'sql') {\n        monaco.languages.registerCompletionItemProvider('sql', {\n          provideCompletionItems: function provideCompletionItems() {\n            return {\n              suggestions: sqlSnippets.map(function (snippet) {\n                return _objectSpread(_objectSpread({}, snippet), {}, {\n                  insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet\n                });\n              })\n            };\n          }\n        });\n      } else if (props.language === 'python') {\n        monaco.languages.registerCompletionItemProvider('python', {\n          provideCompletionItems: function provideCompletionItems() {\n            return {\n              suggestions: pythonSnippets.map(function (snippet) {\n                return _objectSpread(_objectSpread({}, snippet), {}, {\n                  insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet\n                });\n              })\n            };\n          }\n        });\n      }\n    };\n    var initEditor = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var options, resizeObserver;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return nextTick();\n            case 3:\n              if (editorContainer.value) {\n                _context.next = 6;\n                break;\n              }\n              console.error('Editor container not found');\n              return _context.abrupt(\"return\");\n            case 6:\n              // 销毁旧的编辑器实例\n              if (editor) {\n                editor.dispose();\n              }\n              options = _objectSpread(_objectSpread({}, defaultOptions), {}, {\n                value: props.modelValue || '',\n                language: props.language\n              });\n              editor = monaco.editor.create(editorContainer.value, options);\n              registerCompletionProvider();\n\n              // 监听内容变化\n              editor.onDidChangeModelContent(function () {\n                var value = editor.getValue();\n                if (value !== props.modelValue) {\n                  emit('update:modelValue', value);\n                }\n              });\n\n              // 监听焦点变化\n              editor.onDidFocusEditorText(function () {\n                editor.layout();\n              });\n\n              // 使用优化后的ResizeObserver\n              resizeObserver = new ResizeObserver(function () {\n                if (editor) {\n                  editor.layout();\n                }\n              });\n              resizeObserver.observe(editorContainer.value);\n              editor._resizeObserver = resizeObserver;\n\n              // 确保设置初始值\n              _context.next = 17;\n              return nextTick();\n            case 17:\n              if (props.modelValue) {\n                editor.setValue(props.modelValue);\n              }\n\n              // 聚焦编辑器\n              editor.focus();\n              _context.next = 24;\n              break;\n            case 21:\n              _context.prev = 21;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error initializing editor:', _context.t0);\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 21]]);\n      }));\n      return function initEditor() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    onMounted(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return initEditor();\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    })));\n    onBeforeUnmount(function () {\n      if (editor) {\n        if (editor._resizeObserver) {\n          editor._resizeObserver.disconnect();\n        }\n        editor.dispose();\n      }\n    });\n    watch(function () {\n      return props.modelValue;\n    }, /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(newValue) {\n        var position;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(editor && newValue !== editor.getValue())) {\n                _context3.next = 6;\n                break;\n              }\n              _context3.next = 3;\n              return nextTick();\n            case 3:\n              position = editor.getPosition();\n              editor.setValue(newValue || '');\n              if (position) {\n                editor.setPosition(position);\n              }\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      return function (_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }(), {\n      immediate: true\n    });\n    watch(function () {\n      return props.language;\n    }, function (newValue) {\n      if (editor) {\n        monaco.editor.setModelLanguage(editor.getModel(), newValue);\n        registerCompletionProvider();\n      }\n    });\n    var __returned__ = {\n      debounce: debounce,\n      _ResizeObserver: _ResizeObserver,\n      props: props,\n      emit: emit,\n      editorContainer: editorContainer,\n      get editor() {\n        return editor;\n      },\n      set editor(v) {\n        editor = v;\n      },\n      defaultOptions: defaultOptions,\n      sqlSnippets: sqlSnippets,\n      pythonSnippets: pythonSnippets,\n      registerCompletionProvider: registerCompletionProvider,\n      initEditor: initEditor,\n      get monaco() {\n        return monaco;\n      },\n      onMounted: onMounted,\n      onBeforeUnmount: onBeforeUnmount,\n      watch: watch,\n      ref: ref,\n      nextTick: nextTick\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["monaco","onMounted","onBeforeUnmount","watch","ref","nextTick","debounce","fn","delay","timer","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","_ResizeObserver","window","ResizeObserver","_ResizeObserver2","callback","_classCallCheck","_callSuper","_inherits","_createClass","props","__props","emit","__emit","editorContainer","editor","defineTheme","base","inherit","rules","token","foreground","fontStyle","colors","defaultOptions","theme","fontSize","fontFamily","lineNumbers","minimap","enabled","scrollBeyondLastLine","automaticLayout","tabSize","wordWrap","wrappingIndent","autoIndent","formatOnPaste","formatOnType","suggestOnTriggerCharacters","acceptSuggestionOnEnter","folding","renderWhitespace","contextmenu","scrollbar","vertical","horizontal","useShadows","verticalHasArrows","horizontalHasArrows","sqlSnippets","label","insertText","documentation","kind","languages","CompletionItemKind","Snippet","pythonSnippets","registerCompletionProvider","language","registerCompletionItemProvider","provideCompletionItems","suggestions","map","snippet","_objectSpread","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","initEditor","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","options","resizeObserver","wrap","_callee$","_context","prev","next","value","console","error","abrupt","dispose","modelValue","create","onDidChangeModelContent","getValue","onDidFocusEditorText","layout","observe","_resizeObserver","setValue","focus","t0","stop","_callee2","_callee2$","_context2","disconnect","_ref4","_callee3","newValue","position","_callee3$","_context3","getPosition","setPosition","_x","immediate","setModelLanguage","getModel"],"sources":["/Users/guojingjing/2024-ai-code/crm/frontend/src/components/MonacoEditor.vue"],"sourcesContent":["<template>\n  <div class=\"monaco-editor-wrapper\">\n    <div class=\"monaco-editor-container\" ref=\"editorContainer\"></div>\n  </div>\n</template>\n\n<script setup>\nimport * as monaco from 'monaco-editor'\nimport { onMounted, onBeforeUnmount, watch, ref, nextTick } from 'vue'\n\n// 添加debounce函数\nconst debounce = (fn, delay) => {\n  let timer;\n  return (...args) => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(() => {\n      fn(...args);\n    }, delay);\n  };\n};\n\n// 重写ResizeObserver\nconst _ResizeObserver = window.ResizeObserver;\nwindow.ResizeObserver = class ResizeObserver extends _ResizeObserver {\n  constructor(callback) {\n    callback = debounce(callback, 200);\n    super(callback);\n  }\n};\n\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    default: ''\n  },\n  language: {\n    type: String,\n    default: 'javascript'\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\nconst editorContainer = ref(null)\nlet editor = null\n\n// 配置编辑器主题\nmonaco.editor.defineTheme('custom-theme', {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    { token: 'comment', foreground: '6A9955', fontStyle: 'italic' },\n    { token: 'keyword', foreground: '569cd6' },\n    { token: 'string', foreground: 'ce9178' },\n    { token: 'number', foreground: 'b5cea8' }\n  ],\n  colors: {\n    'editor.background': '#1e1e1e',\n    'editor.foreground': '#d4d4d4',\n    'editorCursor.foreground': '#ffffff',\n    'editor.lineHighlightBackground': '#2c313a',\n    'editorLineNumber.foreground': '#858585',\n    'editor.selectionBackground': '#264f78',\n    'editor.inactiveSelectionBackground': '#3a3d41'\n  }\n})\n\nconst defaultOptions = {\n  theme: 'custom-theme',\n  fontSize: 14,\n  fontFamily: 'Menlo, Monaco, \"Courier New\", monospace',\n  lineNumbers: 'on',\n  minimap: { enabled: false },\n  scrollBeyondLastLine: false,\n  automaticLayout: true,\n  tabSize: 2,\n  wordWrap: 'on',\n  wrappingIndent: 'indent',\n  autoIndent: 'full',\n  formatOnPaste: true,\n  formatOnType: true,\n  suggestOnTriggerCharacters: true,\n  acceptSuggestionOnEnter: 'on',\n  folding: true,\n  renderWhitespace: 'selection',\n  contextmenu: true,\n  scrollbar: {\n    vertical: 'visible',\n    horizontal: 'visible',\n    useShadows: true,\n    verticalHasArrows: true,\n    horizontalHasArrows: true\n  }\n}\n\n// SQL 代码片段\nconst sqlSnippets = [\n  {\n    label: 'SELECT',\n    insertText: 'SELECT ${1:*} FROM ${2:table_name} WHERE ${3:condition}',\n    documentation: '查询数据',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  },\n  {\n    label: 'INSERT',\n    insertText: 'INSERT INTO ${1:table_name} (${2:columns}) VALUES (${3:values})',\n    documentation: '插入数据',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  },\n  {\n    label: 'UPDATE',\n    insertText: 'UPDATE ${1:table_name} SET ${2:column} = ${3:value} WHERE ${4:condition}',\n    documentation: '更新数据',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  },\n  {\n    label: 'DELETE',\n    insertText: 'DELETE FROM ${1:table_name} WHERE ${2:condition}',\n    documentation: '删除数据',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  }\n]\n\n// Python 代码片段\nconst pythonSnippets = [\n  {\n    label: 'def',\n    insertText: 'def ${1:function_name}(${2:parameters}):\\n\\t${3:pass}',\n    documentation: '定义函数',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  },\n  {\n    label: 'class',\n    insertText: 'class ${1:ClassName}:\\n\\tdef __init__(self):\\n\\t\\t${2:pass}',\n    documentation: '定义类',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  },\n  {\n    label: 'if',\n    insertText: 'if ${1:condition}:\\n\\t${2:pass}',\n    documentation: 'if 条件语句',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  },\n  {\n    label: 'for',\n    insertText: 'for ${1:item} in ${2:items}:\\n\\t${3:pass}',\n    documentation: 'for 循环',\n    kind: monaco.languages.CompletionItemKind.Snippet\n  }\n]\n\nconst registerCompletionProvider = () => {\n  if (props.language === 'sql') {\n    monaco.languages.registerCompletionItemProvider('sql', {\n      provideCompletionItems: () => {\n        return {\n          suggestions: sqlSnippets.map(snippet => ({\n            ...snippet,\n            insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet\n          }))\n        }\n      }\n    })\n  } else if (props.language === 'python') {\n    monaco.languages.registerCompletionItemProvider('python', {\n      provideCompletionItems: () => {\n        return {\n          suggestions: pythonSnippets.map(snippet => ({\n            ...snippet,\n            insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet\n          }))\n        }\n      }\n    })\n  }\n}\n\nconst initEditor = async () => {\n  try {\n    await nextTick()\n    \n    if (!editorContainer.value) {\n      console.error('Editor container not found')\n      return\n    }\n\n    // 销毁旧的编辑器实例\n    if (editor) {\n      editor.dispose()\n    }\n\n    const options = {\n      ...defaultOptions,\n      value: props.modelValue || '',\n      language: props.language\n    }\n\n    editor = monaco.editor.create(editorContainer.value, options)\n    registerCompletionProvider()\n\n    // 监听内容变化\n    editor.onDidChangeModelContent(() => {\n      const value = editor.getValue()\n      if (value !== props.modelValue) {\n        emit('update:modelValue', value)\n      }\n    })\n\n    // 监听焦点变化\n    editor.onDidFocusEditorText(() => {\n      editor.layout()\n    })\n\n    // 使用优化后的ResizeObserver\n    const resizeObserver = new ResizeObserver(() => {\n      if (editor) {\n        editor.layout()\n      }\n    })\n\n    resizeObserver.observe(editorContainer.value)\n    editor._resizeObserver = resizeObserver\n\n    // 确保设置初始值\n    await nextTick()\n    if (props.modelValue) {\n      editor.setValue(props.modelValue)\n    }\n\n    // 聚焦编辑器\n    editor.focus()\n  } catch (error) {\n    console.error('Error initializing editor:', error)\n  }\n}\n\nonMounted(async () => {\n  await initEditor()\n})\n\nonBeforeUnmount(() => {\n  if (editor) {\n    if (editor._resizeObserver) {\n      editor._resizeObserver.disconnect()\n    }\n    editor.dispose()\n  }\n})\n\nwatch(() => props.modelValue, async (newValue) => {\n  if (editor && newValue !== editor.getValue()) {\n    await nextTick()\n    const position = editor.getPosition()\n    editor.setValue(newValue || '')\n    if (position) {\n      editor.setPosition(position)\n    }\n  }\n}, { immediate: true })\n\nwatch(() => props.language, (newValue) => {\n  if (editor) {\n    monaco.editor.setModelLanguage(editor.getModel(), newValue)\n    registerCompletionProvider()\n  }\n})\n</script>\n\n<style>\n.monaco-editor-wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.monaco-editor-container {\n  width: 100%;\n  height: 100%;\n}\n\n/* 确保编辑器内容区域正确显示 */\n.monaco-editor {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.monaco-editor .overflow-guard {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.monaco-editor .monaco-scrollable-element {\n  width: 100% !important;\n  height: 100% !important;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}