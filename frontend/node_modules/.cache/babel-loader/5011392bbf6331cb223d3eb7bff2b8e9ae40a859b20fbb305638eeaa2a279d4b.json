{"ast":null,"code":"import \"core-js/modules/es.object.define-property.js\";\nimport * as monaco from 'monaco-editor';\nimport { onMounted, onBeforeUnmount, watch, ref } from 'vue';\nexport default {\n  __name: 'MonacoEditor',\n  props: {\n    modelValue: {\n      type: String,\n      \"default\": ''\n    },\n    language: {\n      type: String,\n      \"default\": 'javascript'\n    }\n  },\n  emits: ['update:modelValue'],\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose,\n      __emit = _ref.emit;\n    __expose();\n    var props = __props;\n    var emit = __emit;\n    var editorContainer = ref(null);\n    var editor = null;\n    onMounted(function () {\n      editor = monaco.editor.create(editorContainer.value, {\n        value: props.modelValue,\n        language: props.language,\n        theme: 'vs-dark',\n        automaticLayout: true,\n        minimap: {\n          enabled: false\n        }\n      });\n      editor.onDidChangeModelContent(function () {\n        emit('update:modelValue', editor.getValue());\n      });\n    });\n    onBeforeUnmount(function () {\n      if (editor) {\n        editor.dispose();\n      }\n    });\n    watch(function () {\n      return props.modelValue;\n    }, function (newValue) {\n      if (editor && newValue !== editor.getValue()) {\n        editor.setValue(newValue);\n      }\n    });\n    var __returned__ = {\n      props: props,\n      emit: emit,\n      editorContainer: editorContainer,\n      get editor() {\n        return editor;\n      },\n      set editor(v) {\n        editor = v;\n      },\n      get monaco() {\n        return monaco;\n      },\n      onMounted: onMounted,\n      onBeforeUnmount: onBeforeUnmount,\n      watch: watch,\n      ref: ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["monaco","onMounted","onBeforeUnmount","watch","ref","props","__props","emit","__emit","editorContainer","editor","create","value","modelValue","language","theme","automaticLayout","minimap","enabled","onDidChangeModelContent","getValue","dispose","newValue","setValue"],"sources":["/Users/guojingjing/2024-ai-code/crm/frontend/src/components/MonacoEditor.vue"],"sourcesContent":["<template>\n  <div class=\"editor-container\" ref=\"editorContainer\"></div>\n</template>\n\n<script setup>\nimport * as monaco from 'monaco-editor'\nimport { onMounted, onBeforeUnmount, watch, ref } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    default: ''\n  },\n  language: {\n    type: String,\n    default: 'javascript'\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\nconst editorContainer = ref(null)\nlet editor = null\n\nonMounted(() => {\n  editor = monaco.editor.create(editorContainer.value, {\n    value: props.modelValue,\n    language: props.language,\n    theme: 'vs-dark',\n    automaticLayout: true,\n    minimap: { enabled: false }\n  })\n\n  editor.onDidChangeModelContent(() => {\n    emit('update:modelValue', editor.getValue())\n  })\n})\n\nonBeforeUnmount(() => {\n  if (editor) {\n    editor.dispose()\n  }\n})\n\nwatch(() => props.modelValue, (newValue) => {\n  if (editor && newValue !== editor.getValue()) {\n    editor.setValue(newValue)\n  }\n})\n</script>\n\n<style>\n.editor-container {\n  width: 100%;\n  height: 100%;\n  border: 1px solid #dcdfe6;\n}\n</style> "],"mappings":";AAKA,OAAO,KAAKA,MAAM,MAAM,eAAc;AACtC,SAASC,SAAS,EAAEC,eAAe,EAAEC,KAAK,EAAEC,GAAG,QAAQ,KAAI;;;;;;;;;;;;;;;;;;IAE3D,IAAMC,KAAK,GAAGC,OAAA;IAWd,IAAMC,IAAI,GAAGC,MAAA;IACb,IAAMC,eAAe,GAAGL,GAAG,CAAC,IAAI;IAChC,IAAIM,MAAM,GAAG,IAAG;IAEhBT,SAAS,CAAC,YAAM;MACdS,MAAM,GAAGV,MAAM,CAACU,MAAM,CAACC,MAAM,CAACF,eAAe,CAACG,KAAK,EAAE;QACnDA,KAAK,EAAEP,KAAK,CAACQ,UAAU;QACvBC,QAAQ,EAAET,KAAK,CAACS,QAAQ;QACxBC,KAAK,EAAE,SAAS;QAChBC,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE;UAAEC,OAAO,EAAE;QAAM;MAC5B,CAAC;MAEDR,MAAM,CAACS,uBAAuB,CAAC,YAAM;QACnCZ,IAAI,CAAC,mBAAmB,EAAEG,MAAM,CAACU,QAAQ,CAAC,CAAC;MAC7C,CAAC;IACH,CAAC;IAEDlB,eAAe,CAAC,YAAM;MACpB,IAAIQ,MAAM,EAAE;QACVA,MAAM,CAACW,OAAO,CAAC;MACjB;IACF,CAAC;IAEDlB,KAAK,CAAC;MAAA,OAAME,KAAK,CAACQ,UAAU;IAAA,GAAE,UAACS,QAAQ,EAAK;MAC1C,IAAIZ,MAAM,IAAIY,QAAQ,KAAKZ,MAAM,CAACU,QAAQ,CAAC,CAAC,EAAE;QAC5CV,MAAM,CAACa,QAAQ,CAACD,QAAQ;MAC1B;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}